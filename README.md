# 乗り越し精算機

## 仕様

### 目的
電車を利用後、駅から出る際に交通系ICカードの残高が足りないとき、改札前でチャージが可能な乗り越し精算機を実装する

### 入力
- 交通系ICカードから取得できる情報
  - 乗車駅
  - 残高
- 運賃表
  - `駅名: 運賃`の対応を持つと辞書として受け取り
    
### 精算の要否判定
- 乗車駅に対応する運賃を運賃表から取得
- 不足額を次の式で計算
  - `不足額 = 運賃 - 残高`
  - 不足額が0以下の場合は0(不足額は常に0以上)
- 不足額が 0 のとき：精算は不要
- 不足額が 正 のとき：精算が必要（精算状態に入る）

### チャージ(精算状態のみ)
- チャージ操作は精算が必要なときだけ可能
- 投入金額が不足額以上のとき：チャージが成立し、カード残高が変化(増加)
- 投入金額が不足額未満のとき：チャージは成立しない(残高は変化しない)

### 精算機の初期化
- 「精算不要」と判定された場合、初期状態に戻る
- 「チャージ完了」した場合、初期状態に戻る

***
## テストシナリオ
1. カードから乗車駅と残高の情報を取得し、乗車駅から運賃の情報を取得、不足額を計算
2. 不足額が0以下の場合は不足額0として扱う
3. 精算不要時　初期状態に戻る
4. 不足額が0を超過する場合精算を開始
5. 非精算時、チャージ不可能
6. 投入金額が不足額未満ならチャージされない
7. 投入金額が不足額以上ならチャージされ残高が変化 初期状態に戻る
